{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Number.js","services/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","prop","value","onChange","handleFilterChange","PersonForm","newName","handleNameChange","newNumber","handlePhoneChange","type","onClick","addPerson","Button","text","id","data-id","Person","name","phone","handleDeletePerson","className","Number","filterPerson","map","person","number","baseUrl","newObject","axios","post","then","response","data","get","delete","newPerson","put","Notification","message","App","useState","persons","setPersons","setNewName","setNewNumber","filter","setNewFilter","errorMessage","setErrorMessage","useEffect","personService","initialPersons","toLowerCase","includes","deletePerson","finally","p","style","margin","event","target","preventDefault","personObj","personExist","find","window","confirm","returnedPerson","catch","error","setTimeout","n","returnedPersons","concat","console","log","pid","dataset","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4fac0b44.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (prop) => {\n    return (\n        <div>\n            filter shown with <input  value={prop.value} onChange={prop.handleFilterChange}/>\n        </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (prop) => {\n    return (\n        <div>\n            <form>\n                <div>\n                    name: <input  value={prop.newName} onChange={prop.handleNameChange}/>\n                </div>\n                <div>\n                    phone: <input  value={prop.newNumber} onChange={prop.handlePhoneChange}/>\n                </div>\n                <div>\n                    <button type=\"submit\" onClick={prop.addPerson}>add</button>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Button = ({ onClick, text ,id}) => (\n    <button onClick={onClick} data-id={id}>\n        {text}\n    </button>\n)\n\nconst Person = ({ name, phone, handleDeletePerson, id}) => {\n\n    // console.log(\"person:\",id)\n\n    return (\n        <div className='note'>\n            <li>{name}  {phone} <Button text=\"delete\" onClick={handleDeletePerson} id={id}/></li>\n        </div>\n    )\n}\n\nexport default Person","import Person from \"./Person\";\nimport React from \"react\";\n\nconst Number = (prop) => {\n    return (\n        <div>\n            <ul>\n                {prop.filterPerson.map(person =>\n                    <Person key={person.id} id={person.id} name={person.name} phone={person.number} handleDeletePerson={prop.handleDeletePerson}/>\n                )}\n            </ul>\n        </div>\n    )\n}\n\nexport default Number","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\n// eslint-disable-next-line\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => {\n        return response.data\n    })\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => {\n        return response.data\n    })\n}\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => {\n        return response.data\n    })\n}\n\nconst deletePerson = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => {\n        return response.data\n    })\n}\n\nconst updatePerson = (id, newPerson) => {\n    const request = axios.put(`${baseUrl}/${id}`, newPerson);\n\n    return request.then(response => response.data);\n};\n\n// eslint-disable-next-line\nexport default {create , update, getAll, deletePerson, updatePerson}","import React from 'react'\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"error\">\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Number from \"./components/Number\";\nimport personService from \"./services/Persons\"\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n    const [persons, setPersons] = useState([\n    ])\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n    const [ filter, setNewFilter ] = useState('')\n    const [errorMessage, setErrorMessage] = useState(null)\n\n\n    useEffect(() => {\n        // console.log('effect')\n        personService\n            .getAll()\n            .then(initialPersons => {\n                setPersons(initialPersons)\n            })\n    }, [])\n    // console.log('render', persons.length, 'persons')\n\n    const filterPerson = persons.filter((person) => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n    const handleNameChange = (event) =>{\n        setNewName(event.target.value)\n    }\n\n    const handlePhoneChange = (event) =>{\n        setNewNumber(event.target.value)\n    }\n\n    const handleFilterChange = (event) => {\n        setNewFilter(event.target.value)\n    }\n\n    const handleDeletePerson = (event) => {\n        const pid = event.target.dataset.id\n        // console.log(\"id:\",pid)\n        // const id = parseFloat(pid)p\n        console.log(pid)\n\n        const person = persons.find(p => p.id===pid);\n        // const person =\n\n        console.log(\"person:\", person)\n\n        const result = window.confirm(`Delete ${person.name}?`)\n        if (result){\n            deletePerson(pid)\n            // alert(`${person.name} is deleted`)\n            setErrorMessage(\n                `${person.name} is deleted`\n            )\n            setTimeout(() => {\n                setErrorMessage(null)\n            }, 5000)\n        }\n    }\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        const personObj = {\n            name : newName,\n            number: newNumber\n        }\n        // console.log(persons.find((person) => person.name === newName))\n        const personExist = persons.find((person) => person.name === newName)\n        if (personExist){\n            // console.log(`${newName} is already added to phonebook`)\n            // alert(`${newName} is already added to phonebook`)\n            const result = window.confirm(`${personExist.name} is already added to phonebook, replace the old number with a new one?`)\n            if (result){\n                personService\n                    .updatePerson(personExist.id,personObj)\n                    .then(returnedPerson => {\n                        setPersons(persons.map(person => person.id !==personExist.id ? person : returnedPerson))\n                    })\n                    .catch(error => {\n                        // alert(\n                        //     `the note '${personExist.name}' was already deleted from server`\n                        // )\n                        setErrorMessage(\n                            `the person '${personExist.name}' was already deleted from server`\n                        )\n                        setTimeout(() => {\n                            setErrorMessage(null)\n                        }, 5000)\n                        setPersons(persons.filter(n => n.id !== personExist.id))\n                    })\n                setErrorMessage(\n                    `Updated ${personObj.name}`\n                )\n                setTimeout(() => {\n                    setErrorMessage(null)\n                }, 5000)\n            }\n        }else {\n            personService\n                .create(personObj)\n                .then(returnedPersons => {\n                    setPersons(persons.concat(returnedPersons))\n                    setNewName('')\n                    setNewNumber('')\n\n                    setErrorMessage(\n                        `Added ${personObj.name}`\n                    )\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                })\n                .catch(error=>{\n                    setErrorMessage(error.response.data.error)\n                    setTimeout(() => {\n                        setErrorMessage(null)\n                    }, 5000)\n                    console.log(error.response.data.error)\n                })\n        }\n    }\n\n    const deletePerson = (id) =>{\n        personService\n            .deletePerson(id)\n            .finally(()=>{\n                setPersons(persons.filter(p => p.id !== id))\n            })\n    }\n\n\n    return (\n        <div style={{margin:20}}>\n            <h1>Phonebook</h1>\n            <Notification message={errorMessage}/>\n            <Filter value={filter} handleFilterChange={handleFilterChange}/>\n            <h1> add a new</h1>\n            <PersonForm newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handlePhoneChange={handlePhoneChange} addPerson={addPerson}/>\n            <h1>Numbers</h1>\n            <Number filterPerson={filterPerson} handleDeletePerson={(event)=>handleDeletePerson(event)}/>\n        </div>\n    )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\n// const promise = axios.get('http://localhost:3001/notes')\n// console.log(promise)\n//\n// const promise2 = axios.get('http://localhost:3001/foobar')\n// console.log(promise2)\n\nReactDOM.render(<App />, document.getElementById('root'))\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}